!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.cqSpaPageModelManager=t():e.cqSpaPageModelManager=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathUtils=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(1)),a=l(n(8)),o=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var u=/^(.*)?(?:\/(?:content|conf|apps|libs|etc)\/.*)/g,s="(.+)/"+i.default.JCR_CONTENT+"/(.+)";t.PathUtils=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"isBrowser",value:function(){try{return"undefined"!=typeof window}catch(e){return!1}}},{key:"getContextPath",value:function(e){if(!(e=e||this.getCurrentPathname()))return"";var t=u.exec(e);return u.lastIndex=0,t&&t[1]?t[1]:""}},{key:"adaptPagePath",value:function(t,n){if(!t)return"";if(!n)return t;var r=e.internalize(t);return r===e.sanitize(n)?"":r}},{key:"externalize",value:function(e){var t=this.getContextPath();return!t||e.startsWith(t)?e:t+e}},{key:"internalize",value:function(e){if(!e)return e;var t=this.getContextPath();return e.startsWith(t.endsWith("/")?t:t+"/")?e.replace(t,""):e}},{key:"getMetaPropertyValue",value:function(e){if(this.isBrowser()){var t=document.head.querySelector('meta[property="'+e+'"]');return t&&t.content}}},{key:"convertToModelUrl",value:function(e){return e&&e.replace&&e.replace(/\.htm(l)?$/,a.default.DEFAULT_MODEL_JSON_EXTENSION)}},{key:"getCurrentPageModelUrl",value:function(){return this.convertToModelUrl(this.getCurrentPathname())}},{key:"getModelUrl",value:function(e){if(e&&e.replace)return this.convertToModelUrl(e);var t=this.getMetaPropertyValue(o.default.PAGE_MODEL_ROOT_URL);return t||this.getCurrentPageModelUrl()}},{key:"sanitize",value:function(e){if(e){var t=(e=e.replace(/^[a-z]{4}:\/{2}[a-z]{1,}:[0-9]{1,4}(\/.*)/,"$1")).indexOf(".");return e=t>-1?e.substr(0,t):e,e=this.internalize(e)}}},{key:"addExtension",value:function(e,t){if(!t||t.length<1)return e;if(t.startsWith(".")||(t="."+t),!e||e.length<1||e.indexOf(t)>-1)return e;var n=e,r=/^((?:[/a-zA-Z0-9:_-]*)+)(?:\.?)([a-zA-Z0-9._-]*)(?:\/?)([a-zA-Z0-9/._-]*)(?:\??)([a-zA-Z0-9=&]*)$/g.exec(e),i="";return r&&r.length>2&&(i=r[3]?"/"+r[3]:"",i+=r[4]?"?"+r[4]:"",n=r[1]+"."+r[2].replace(/\.htm(l)?/,t)+i),n.indexOf(t)>-1?n:n+t+i}},{key:"addSelector",value:function(e,t){if(!t||t.length<1)return e;if(t.startsWith(".")||(t="."+t),!e||e.length<1||e.indexOf(t)>-1)return e;var n=e.indexOf(".")||e.length;return n<0?e+t:e.slice(0,n)+t+e.slice(n,e.length)}},{key:"getCurrentPathname",value:function(){return this.isBrowser()?window.location.pathname:void 0}},{key:"dispatchGlobalCustomEvent",value:function(e,t){this.isBrowser()&&window.dispatchEvent(new CustomEvent(e,t))}},{key:"join",value:function(e){return e?this.normalize(e.filter(function(e){return e}).join("/")):""}},{key:"normalize",value:function(e){return e&&e?e.replace(/(\/+)/g,"/"):""}},{key:"makeAbsolute",value:function(e){return e&&"string"==typeof e?e.startsWith("/")?e:"/"+e:""}},{key:"makeRelative",value:function(e){return e&&"string"==typeof e?e.startsWith("/")?e.slice(1):e:""}},{key:"getParentNodePath",value:function(e){var t=e.lastIndexOf("/")+1;return e&&"string"==typeof e&&t>0&&t<e.length&&e.substring(0,t-1)}},{key:"isItem",value:function(e){return new RegExp(s).test(e)}},{key:"getNodeName",value:function(e){var t=e.lastIndexOf("/")+1;return e&&"string"==typeof e&&t<e.length&&e.substring(t,e.length)}},{key:"subpath",value:function(t,n){if(!t)return"";var r=e.makeRelative(t).split("/"),i=e.makeRelative(n).split("/");if(r.length<i.length)return t;var a=void 0;for(a=0;a<i.length&&r[a]===i[a];++a);return a===i.length?r.slice(a).join("/"):t}},{key:"splitByDelimitators",value:function(t,n){var r=[t];return n.forEach(function(t){var n=[],i=e.normalize(e.makeAbsolute(t)+"/");r.forEach(function(r){if(n=n.concat(r.split(i)),r.endsWith(t)){var a=n.splice(n.length-1,1)[0];a!==t&&(n=n.concat(a.split(e.makeAbsolute(t))))}n=n.filter(function(e){return e})}),r=n}),r}},{key:"_getJCRPath",value:function(e,t){return e+"/"+i.default.JCR_CONTENT+"/"+t}},{key:"splitPageContentPaths",value:function(e){if(e||"string"==typeof e){var t=e.split("/"+i.default.JCR_CONTENT+"/"),n={pagePath:t[0]};return t.length>1&&(n.itemPath=t[1]),n}}},{key:"trimStrings",value:function(t,n){return n.forEach(function(n){for(;t.startsWith(n);)t=e.makeRelative(t.slice(n.length));for(;t.endsWith(n);)(t=t.slice(0,t.length-n.length)).endsWith("/")&&(t=t.slice(0,t.length-1))}),t}},{key:"_getStartStrings",value:function(t,n){var r="";return n.forEach(function(n){for(;t.startsWith(n);)t=e.makeRelative(t.slice(n.length)),r=r+"/"+n}),e.makeRelative(r)}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={TYPE_PROP:":type",ITEMS_PROP:":items",ITEMS_ORDER_PROP:":itemsOrder",PATH_PROP:":path",CHILDREN_PROP:":children",HIERARCHY_TYPE_PROP:":hierarchyType",JCR_CONTENT:"jcr:content"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={PAGE_MODEL_ROOT_URL:"cq:pagemodel_root_url",PAGE_MODEL_ROUTE_FILTERS:"cq:pagemodel_route_filters",PAGE_MODEL_ROUTER:"cq:pagemodel_router"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=f(n(1)),o=f(n(2)),l=n(9),u=n(6),s=n(10);function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if(!e)return"";var t=i.PathUtils.internalize(e);return this.modelStore&&this.modelStore.rootPath&&t===i.PathUtils.sanitize(this.modelStore.rootPath)?"":t}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"_checkDependencies",value:function(){return this.modelClient?this.modelStore?Promise.resolve():Promise.reject("No ModelManager registered"):Promise.reject("No ModelClient registered")}},{key:"_toModelPath",value:function(e){var t=i.PathUtils.addSelector(e,"model");return t=i.PathUtils.addExtension(t,"json"),t=i.PathUtils.externalize(t),i.PathUtils.makeAbsolute(t)}},{key:"initialize",value:function(e){var t=this;this.destroy();var n=void 0,r=void 0;e&&"string"!=typeof e?e&&(n=e.path,this._modelClient=e.modelClient,r=e.model):n=e,this._listenersMap={},this._fetchPromises={},this._initPromise=null;var f=i.PathUtils.internalize(i.PathUtils.getMetaPropertyValue(o.default.PAGE_MODEL_ROOT_URL)),d=i.PathUtils.sanitize(i.PathUtils.getCurrentPathname()),h=n||f||d;return h||console.error("ModelManager.js","Cannot initialize without an URL to fetch the root model"),this._modelClient||(this._modelClient=new u.ModelClient),this._editorClient=new l.EditorClient(this),this._modelStore=new s.ModelStore(h,r),this._initPromise=this._checkDependencies().then(function(){var e=i.PathUtils.sanitize(h),n=t.modelStore.getData(e);return n?Promise.resolve(n):t._fetchData(h).then(function(n){return t.modelStore.initialize(e,n),function(e,t){return!e||!t||i.PathUtils.sanitize(e)===i.PathUtils.sanitize(t)}(d,f)||function(e,t){return!!(e&&t&&e[a.default.CHILDREN_PROP]&&e[a.default.CHILDREN_PROP][i.PathUtils.sanitize(t)])}(n,d)?t.modelStore.getData():t._fetchData(d).then(function(e){return t.modelStore.insertData(i.PathUtils.sanitize(d),e),t.modelStore.getData()})})}),this._initPromise}},{key:"_fetchData",value:function(e){var t=this;if(this._fetchPromises.hasOwnProperty(e))return this._fetchPromises[e];var n=this.modelClient.fetch(this._toModelPath(e));return this._fetchPromises[e]=n,n.then(function(n){return delete t._fetchPromises[e],n}).catch(function(n){return delete t._fetchPromises[e],n}),n}},{key:"_storeData",value:function(e,t){var n=i.PathUtils.isItem(e);return this.modelStore.insertData(e,t),this._notifyListeners(e),n||this._notifyListeners(""),t}},{key:"getData",value:function(e){var t=this,n=void 0,r=!1;return"string"==typeof e?n=e:e&&(n=e.path,r=e.forceReload),(this._initPromise||Promise.resolve()).then(function(){return t._checkDependencies()}).then(function(){if(!r){var e=t.modelStore.getData(n);if(e)return Promise.resolve(e)}return t._fetchData(n).then(function(e){return t._storeData(n,e)})})}},{key:"_notifyListeners",value:function(e){e=i.PathUtils.adaptPagePath.call(this,e);var t=this._listenersMap[e];t&&t.length&&t.forEach(function(n){try{n()}catch(n){console.error("Error in listener "+t+" at path "+e+" : "+n)}})}},{key:"addListener",value:function(e,t){if(e||"string"==typeof e){var n=d.call(this,e);this._listenersMap[n]=this._listenersMap[e]||[],this._listenersMap[n].push(t)}}},{key:"removeListener",value:function(e,t){if(e){var n=d.call(this,e),r=this._listenersMap[n];if(r){var i=r.indexOf(t);-1!==i&&r.splice(i,1)}}}},{key:"destroy",value:function(){this._fetchPromises=null,delete this._fetchPromises,this._listenersMap=null,delete this._listenersMap,this.modelClient&&this.modelClient.destroy&&this.modelClient.destroy(),this.modelStore&&this.modelStore.destroy&&this.modelStore.destroy(),this._editorClient&&this._editorClient.destroy&&this._editorClient.destroy()}},{key:"modelClient",get:function(){return this._modelClient}},{key:"modelStore",get:function(){return this._modelStore}},{key:"rootPath",get:function(){return this.modelStore.rootPath}}]),e}();t.default=new h},function(e,t){e.exports=require("clone")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={PAGE_MODEL_INIT:"cq-pagemodel-init",PAGE_MODEL_LOADED:"cq-pagemodel-loaded",PAGE_MODEL_UPDATE:"cq-pagemodel-update",PAGE_MODEL_ROUTE_CHANGED:"cq-pagemodel-route-changed"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.ModelClient=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._apiHost=t||"",this._fetchPromises={}}return r(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){if(!e){var t="Fetching model rejected for path: "+e;return Promise.reject(new Error(t))}var n=""+this._apiHost+e;return fetch(n).then(function(e){if(e.status>=200&&e.status<300)return e.json();throw{response:e}}).catch(function(e){return Promise.reject(e)})})},{key:"destroy",value:function(){this._apiHost=null,this._fetchPromises=null}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);Object.defineProperty(t,"ModelManager",{enumerable:!0,get:function(){return l(r).default}});var i=n(6);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var a=n(0);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var o=n(1);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Constants",{enumerable:!0,get:function(){return l(o).default}}),n(11)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={DEFAULT_SLING_MODEL_SELECTOR:"model",DEFAULT_MODEL_JSON_EXTENSION:".model.json"};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditorClient=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=l(n(4)),o=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}t.EditorClient=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._modelManager=t,this._windowListener=function(e){e&&e.detail&&e.detail.msg?n._updateModel(e.detail.msg):console.error("EditorService.js","No message passed to cq-pagemodel-update",e)},i.PathUtils.isBrowser()&&window.addEventListener(o.default.PAGE_MODEL_UPDATE,this._windowListener)}return r(e,[{key:"_updateModel",value:function(e){if(e&&e.cmd&&e.path){var t=e.path,n=e.cmd,r=(0,a.default)(e.data),l=void 0,u=void 0,s=void 0;switch(n){case"replace":this._modelManager.modelStore.setData(t,r),this._modelManager._notifyListeners(t);break;case"delete":this._modelManager.modelStore.removeData(t),this._modelManager._notifyListeners(i.PathUtils.getParentNodePath(t));break;case"insertBefore":s=!0;case"insertAfter":l=i.PathUtils.getNodeName(t),u=i.PathUtils.getParentNodePath(t)+"/"+r.key,this._modelManager._modelStore.insertData(u,r.value,l,s),this._modelManager._notifyListeners(i.PathUtils.getParentNodePath(t));break;default:console.log("EditorClient","unsupported command:",n)}!function(e){i.PathUtils.dispatchGlobalCustomEvent(o.default.PAGE_MODEL_LOADED,{detail:{model:(0,a.default)(e)}})}(this._modelManager.modelStore._data)}else console.error("PageModelManager.js","Not enough data received to update the page model")}},{key:"destroy",value:function(){this._modelManager=null,delete this._modelManager,i.PathUtils.isBrowser()&&window.removeEventListener(o.default.PAGE_MODEL_UPDATE,this._windowListener)}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModelStore=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(4)),a=l(n(1)),o=n(0);function l(e){return e&&e.__esModule?e:{default:e}}t.ModelStore=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialize(t,n),this._pageContentDelimiter=[a.default.JCR_CONTENT]}return r(e,[{key:"initialize",value:function(e,t){t&&(this._data=t),this._rootPath=e}},{key:"_getPageData",value:function(e){if(this._data)return""===e||e===this._data[a.default.PATH_PROP]||e===this.rootPath?this._data:this._data[a.default.CHILDREN_PROP]&&this._data[a.default.CHILDREN_PROP][e]}},{key:"_findItemData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._data,n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i={parent:n,parentPath:r},l=t[a.default.ITEMS_PROP];if(!l)return i;for(var u in l)if(l.hasOwnProperty(u)){var s=l[u];if(u===e)return i.data=l[u],i.key=u,i;var f=o.PathUtils.subpath(e,u),d=o.PathUtils._getStartStrings(f,this._pageContentDelimiter),h=o.PathUtils.join([r,u,d]);if((f=o.PathUtils.trimStrings(f,this._pageContentDelimiter))!==e&&(s=this._findItemData(f,s,s,h)))return s}return i}},{key:"setData",value:function(e,t){var n=o.PathUtils.getNodeName(e),r=this.getData(o.PathUtils.getParentNodePath(e),!1);if(r&&r[a.default.ITEMS_PROP]){var l=(0,i.default)(t);r[a.default.ITEMS_PROP][n]=l.value}}},{key:"getData",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e&&"string"!=typeof e)return t?(0,i.default)(this._data):this._data;if(e===this._rootPath)return t?(0,i.default)(this._data):this._data;var n=o.PathUtils.splitPageContentPaths(e),r=this._getPageData(n.pagePath);if(!r||!n.itemPath)return t?(0,i.default)(r):r;var a=this._findItemData(n.itemPath,r);return a?t?(0,i.default)(a.data):a.data:void 0}},{key:"insertData",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t=(0,i.default)(t),e)if(o.PathUtils.isItem(e)||!this._data[a.default.CHILDREN_PROP]){var l=o.PathUtils.splitPageContentPaths(e),u=this._getPageData(l.pagePath),s=this._findItemData(l.itemPath,u).parent||u||this._data,f=o.PathUtils.getNodeName(l.itemPath);if(s&&s.hasOwnProperty(a.default.ITEMS_PROP)&&(s[a.default.ITEMS_PROP][f]=t,s.hasOwnProperty(a.default.ITEMS_ORDER_PROP))){var d=s[a.default.ITEMS_ORDER_PROP].indexOf(n);d>-1?s[a.default.ITEMS_ORDER_PROP].splice(r?d:d+1,0,f):s[a.default.ITEMS_ORDER_PROP].push(f)}}else this._data[a.default.CHILDREN_PROP][e]=t;else console.warn("No path provided for data:",t)}},{key:"removeData",value:function(e){if(e)if(o.PathUtils.isItem(e)||!this._data[a.default.CHILDREN_PROP]){var t=o.PathUtils.splitPageContentPaths(e),n=this._getPageData(t.pagePath),r=this._findItemData(t.itemPath,n);if(r.data){if(r&&r.parent&&r.parent.hasOwnProperty(a.default.ITEMS_PROP)){var i=r.parent,l=o.PathUtils.getNodeName(t.itemPath);if(delete i[a.default.ITEMS_PROP][l],delete r.data,delete r.parent,i.hasOwnProperty(a.default.ITEMS_ORDER_PROP)){var u=i[a.default.ITEMS_ORDER_PROP].indexOf(l);i[a.default.ITEMS_ORDER_PROP].splice(u,1)}return r.parentPath}}else console.warn("Item for path "+e+" was not found! Nothing to remove then.")}else delete this._data[a.default.CHILDREN_PROP][e]}},{key:"destroy",value:function(){this._data=null,this._rootPath=null,this._pageContentDelimiter=null,delete this._data,delete this._rootPath,delete this._pageContentDelimiter}},{key:"rootPath",get:function(){return this._rootPath}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTER_MODES=void 0,t.getModelPath=s,t.getRouteFilters=f,t.isRouteExcluded=d,t.isModelRouterEnabled=h,t.dispatchRouteChanged=c,t.routeModel=_;var r=l(n(5)),i=n(0),a=l(n(2)),o=l(n(3));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.ROUTER_MODES={DISABLED:"disabled",CONTENT_PATH:"path"};function s(e){var t=void 0,n=(t=e||window.location.pathname).indexOf(".");return n<0&&(n=t.length),t.substr(0,n)}function f(){var e=i.PathUtils.getMetaPropertyValue(a.default.PAGE_MODEL_ROUTE_FILTERS);return e?e.split(","):[]}function d(e){for(var t=f(),n=0,r=t.length;n<r;n++)if(new RegExp(t[n]).test(e))return!0;return!1}function h(){if(!i.PathUtils.isBrowser())return!1;var e=i.PathUtils.getMetaPropertyValue(a.default.PAGE_MODEL_ROUTER);return!e||u.DISABLED!==e}function c(e){o.default.getData({path:e}).then(function(e){i.PathUtils.dispatchGlobalCustomEvent(r.default.PAGE_MODEL_ROUTE_CHANGED,{detail:{model:e}})})}function _(e){if(h()){var t=s(e);t&&"/"!==t&&!d(t)&&c(t)}}if(h()){var P=window.history.pushState,v=window.history.replaceState;window.history.pushState=function(e,t,n){return _(n),P.apply(history,arguments)},window.history.replaceState=function(e,t,n){return _(n),v.apply(history,arguments)}}}])});
//# sourceMappingURL=cq-spa-page-model-manager.js.map